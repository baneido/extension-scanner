<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500;600&family=Fira+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="popup.css" />
    <title>Extension Scanner</title>
  </head>
  <body>
    <main class="popup">
      <!-- Header -->
      <header class="header">
        <div class="header-content">
          <div class="logo">
            <svg
              class="logo-icon"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
            >
              <path
                d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M12 16V12M12 8H12.01"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            <h1 class="title">Extension Scanner</h1>
          </div>
          <span class="scan-time" id="scan-time" aria-live="polite">--</span>
        </div>
      </header>

      <!-- Security Status Summary -->
      <section class="summary" aria-label="Security Status Summary">
        <div class="status-card status-red" id="badge-red">
          <svg
            class="status-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M12 9V13M12 17H12.01M5.07183 19H18.9282C20.4678 19 21.4301 17.3333 20.6603 16L13.7321 4C12.9623 2.66667 11.0377 2.66667 10.2679 4L3.33975 16C2.56995 17.3333 3.53223 19 5.07183 19Z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <div class="status-content">
            <span class="status-count" aria-label="High risk extensions">0</span>
            <span class="status-label">High Risk</span>
          </div>
        </div>

        <div class="status-card status-yellow" id="badge-yellow">
          <svg
            class="status-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M12 9V13M12 17H12.01M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <div class="status-content">
            <span class="status-count" aria-label="Medium risk extensions">0</span>
            <span class="status-label">Medium</span>
          </div>
        </div>

        <div class="status-card status-green" id="badge-green">
          <svg
            class="status-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <div class="status-content">
            <span class="status-count" aria-label="Safe extensions">0</span>
            <span class="status-label">Safe</span>
          </div>
        </div>
      </section>

      <!-- Threat List -->
      <section class="threats" id="threats" aria-label="Detected Threats">
        <div class="loading" id="loading" role="status" aria-live="polite">
          <div class="spinner" aria-hidden="true"></div>
          <span>Scanning extensions...</span>
        </div>
      </section>

      <!-- Actions -->
      <footer class="actions">
        <button class="btn btn-scan" id="btn-scan" type="button">
          <svg
            class="btn-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <span class="btn-text">Scan Now</span>
        </button>
        <button class="btn btn-dashboard" id="btn-dashboard" type="button">
          <svg
            class="btn-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M9 17H7C5.89543 17 5 16.1046 5 15V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V7M13 21H17C18.1046 21 19 20.1046 19 19V13C19 11.8954 18.1046 11 17 11H13C11.8954 11 11 11.8954 11 13V19C11 20.1046 11.8954 21 13 21Z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <span class="btn-text">Full Report</span>
        </button>
      </footer>
    </main>

    <script type="module" src="popup.ts"></script>
  </body>
</html>
